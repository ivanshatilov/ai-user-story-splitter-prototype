# AI Story Splitter

Прототип утилиты, которая принимает на вход user story иа втоматически разбивает его на набор подзадач, формируя структурированный JSON. Также обрабатывается кейс с текстом, не связанным с созданием задачи.

```
{
  "epic": "Authentication",
  "tasks": [
    { "title": "Добавить форму входа", "complexity": 2 },
    { "title": "Реализовать валидацию пароля", "complexity": 1 }
  ]
}
```

### Реализовано через workflow, в котором используется разветвление через кастомный scorer на первом шаге.

### Формат вывода всегда соответствует одной схеме

### Системные и пользовательские промпты находятся в папке src/mastra/prompts

---

## Запуск проекта с mastra для отладки

Предварительно должен быть установлен Git и Node.js + npm

1) Склонировать репозиторий с помощью ```git clone```
2) Перейти в проект ```cd ai-user-story-splitter```
3) Скачать нужные пакеты ``` npm install ```
4) В корне проекта создать ```.env``` и передать туда ```OPENAI_API_KEY``` и ```OPENAI_MODEL_NAME```


Для запуска в режиме отладки (playground) - ```npm run dev```

Для запуска тестовых прогонов - ```npm run test```

---

## Запуск проекта с docker-compose

Предварительно должен быть установлен docker desktop
В корне проекта должен быть .env с введенными переменными окружения

1) Склонировать репозиторий с помощью ```git clone```
2) Перейти в проект ```cd ai-user-story-splitter```
3) ```docker compose up -d```

Доступен эндпоинт ```POST http://localhost:${API_PORT}/api/story-split```. На вход передается JSON body:

```
{"prompt": "string"}
```